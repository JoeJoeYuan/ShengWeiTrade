@using Webdiyer.WebControls.Mvc;
@model PagedList<Models.Products>

@*<link href="@Url.Content("~/Css/lanrenzhijia.css")" rel="stylesheet" type="text/css" />
<script src="@Url.Content("~/Scripts/lanrenzhijia.js")" type="text/javascript" ></script>*@

@*<style type="text/css">
	.wrap-menu { overflow:auto; width:300px; background:#F6F6F6; font:12px/1.5 Tahoma,Arial,sans-serif}
	.wrap-menu ul{ list-style:none; margin:0; padding:0;}
	.wrap-menu ul li{ text-indent:3em; white-space:nowrap; }
	.wrap-menu ul li h2{ cursor:pointer; height:100%; width:100%; margin:0 0 1px 0; font:12px/31px '宋体'; color:#fff; background:red;}
	.wrap-menu ul li a{ display:block; outline:none; height:25px; line-height:25px; margin:1px 0; color:#1A385C; text-decoration:none;}
	.wrap-menu ul li img{ margin-right:10px; margin-left:-17px; margin-top:9px; width:7px; height:7px; background:url(~/images/arrow.gif) no-repeat; border:none;}
	.wrap-menu ul li img.unfold{ background-position:0 -9px;}
	.wrap-menu ul li a:hover{ background-color:#ccc; background-image:none;}
  </style>  <script type="text/javascript">
      
      //同步获取
//      $.ajax({
//          type: 'GET',
//          url: '/Home/GetMenuData?r=' + Math.random(),
//          async: false, //同步
//          dataType: 'json',
//          success: function (json) {
//              testMenu = json;
//          },
//          error: function (xhr, status, error) {
//              alert("操作失败"); //xhr.responseText
//          }
//      });
      //alert(testMenu);


      $(function () {
          //var menuData = [];
          //var testMenu = $.parseJSON($("#menuData").val().replace(/[\r\n]/g, ""));
          //eval(testMenu);
          //menuData.push(testMenu);

          var testMenu = [{ "name": "10", "url": "/Home/ProductsList?NID=10&name=Ceramic Tiles", "submenu": [{ "name": "13", "url": "/Home/ProductsList?NID=13&name=Crystal Stone Series" }, { "name": "14", "url": "/Home/ProductsList?NID=14&name=Glazed Polished Series"}] }, { "name": "11", "url": "/Home/ProductsList?NID=11&name=LED Lights" }, { "name": "12", "url": "/Home/ProductsList?NID=12&name=Others"}];

          new AccordionMenu({ menuArrs: testMenu });
      });</script>*@

<style type="text/css">
.nav ul li{
list-style:none;
line-height:20px;
margin:0;
padding-left:6px;
}
.child{
display:none;
}
.nav a{
display:block;
color:#5c84c1;
padding-left:22px;
}
.nav a:hover
{
    background-color:#ccc
}
</style>
<script language="javascript" type="text/javascript">
    //说明 所有的元素以ul li ul li ul li的循环格式嵌套 如果没有下级分类 就用li a结束嵌套
    $(document).ready(function () {
        //$(".nav ul li").children("ul").hide();
        $(".nav").find("li").not(":has(ul)").children("a").css({ textDecoration: "none", color: "#333", background:"none" })
.click(function () {
    $(this).get(0).location.href = "'" + $(this).attr("href") + "'";
});
    $(".nav").find("li:has(ul)").children("a").css({ background: "url(../images/sprite.png) 15px 13px no-repeat;" })
.click(function () {
    if ($(this).next("ul").is(":hidden")) {
        $(this).next("ul").slideDown("slow");
        if ($(this).parent("li").siblings("li").children("ul").is(":visible")) {
            $(this).parent("li").siblings("li").find("ul").slideUp("1000");
            $(this).parent("li").siblings("li:has(ul)").children("a").css({ background: "url(../images/sprite.png) 15px 13px no-repeat;" })
.end().find("li:has(ul)").children("a").css({ background: "url(../images/sprite.png) 15px 13px no-repeat;" });
        }
        $(this).css({ background: "url(../images/sprite.png) no-repeat left top;" });
        return false;
    } else {
        $(this).next("ul").slideUp("normal");
        //不用toggle()的原因是为了在收缩菜单的时候同时也将该菜单的下级菜单以后的所有元素都隐藏
        $(this).css({ background: "url(../images/sprite.png) 15px 13px no-repeat;" });
        $(this).next("ul").children("li").find("ul").fadeOut("normal");
        $(this).next("ul").find("li:has(ul)").children("a").css({ background: "url(../images/sprite.png) 15px 13px no-repeat;" });
        return false;
    }
});
    });
</script>

<div class="container">
    @*<input id="menuData" type="hidden" value="@ViewBag.productCategotyTest" />*@
    <div class="row single-top">
        <div class="col-md-8">
            @foreach (var item in Model)
            {
            @*<li><a href="@Url.Action("ProductsDetail", "Home", new { ID = item.ID, time = item.CreateTime.Value.ToString("yyyy-MM-dd") })" target="_blank">
                <img src="@Url.Content("/File/" + @item.ImagePath + "")" alt="@item.Title" title="@item.Title" /></a>
                <span><a href="@Url.Action("ProductsDetail", "Home", new { ID = item.ID, time = item.CreateTime.Value.ToString("yyyy-MM-dd") })" target="_blank">@item.Title</a></span>
            </li>*@
        
                <div class="blog_box">
                    <div class="blog_grid">
                        <h3 class="wow rollIn animated animated" data-wow-delay="0.4s" style="visibility: visible;
                            animation-delay: 0.4s; animation-name: rollIn;">
                            <a href="@Url.Action("ProductsDetail", "Home", new { ID = item.ID, time = item.CreateTime.Value.ToString("yyyy-MM-dd") })">@item.Title
                            </a>
                        </h3>
                        <a href="@Url.Action("ProductsDetail", "Home", new { ID = item.ID, time = item.CreateTime.Value.ToString("yyyy-MM-dd") })">
                            @*<img src="../../images/ab.jpg" class="img-responsive" alt=""></a>*@
                            <img src="@Url.Content("/File/" + @item.ImagePath + "")" alt="@item.Title" title="@item.Title" class="img-responsive" /></a>
                        <div class="singe_desc">
                            <p>
                                @item.Description</p>
                            @*<div class="comments">
                        <ul class="links">
                            <li><i class="blog_icon1"></i>
                                <br>
                                <span>April 14, 2014</span></li>
                            <li><a href="#"><i class="blog_icon2"></i>
                                <br>
                                <span>admin</span></a></li>
                            <li><a href="#"><i class="blog_icon3"></i>
                                <br>
                                <span>1206</span></a></li>
                            <li><a href="#"><i class="blog_icon4"></i>
                                <br>
                                <span>1206</span></a></li>
                        </ul>
                        <div class="btn_blog">
                            <a href="single.html">
                                <img src="images/read.png" class="img-responsive" alt=""></a></div>
                        <div class="clearfix">
                        </div>
                    </div>*@
                        </div>
                    </div>
                </div>
        
            }

            <ul class="dc_pagination dc_paginationA dc_paginationA06 wow fadeInDownBig animated animated animated"  style="visibility: visible; -webkit-animation: fadeInDownBig 0.4s;">
				  <!--<li><a href="#" class="current">Prev</a></li>
				  <li><a href="#">1</a></li>
				  <li><a href="#">2</a></li>
				  <li><a href="#">3</a></li>
				  <li><a href="#">4</a></li>
				  <li><a href="#">5</a></li>
				  <li><a href="#">...</a></li>
				  <li><a href="#">19</a></li>
				  <li><a href="#">20</a></li>
				  <li><a href="#" class="current">Next</a></li>-->
                  @Html.Pager(Model, new PagerOptions { PageIndexParameterName = "id", ShowPageIndexBox = true, PageIndexBoxType = PageIndexBoxType.DropDownList, ShowGoButton = true, GoButtonText = "Go",  CurrentPagerItemWrapperFormatString = "<li><a class=\"current\" >{0}</a></li>" }, null, null, null)
                  <!--<a>Total @(Model.TotalItemCount) Records, each Page @(Model.PageSize) Records, Current @(Model.CurrentPageIndex)/@(Model.TotalPageCount) Page</a>-->
		    </ul>
        </div>
        <div class="col-md-4 ">
            <div class="categories">
                <h4 class="wow fadeInRight animated animated" data-wow-delay="0.4s" style="visibility: visible;
                    animation-delay: 0.4s; animation-name: fadeInRight;">
                    Product Category</h4>
                @*<ul class="category">
                    @Html.Raw(ViewBag.productCategoty)
                </ul>*@
                <div class="nav">@Html.Raw(ViewBag.productCategoty)</div>
            </div>
        </div>
        @*<h3>
            Product Category</h3>
        <div class="trainee-grids">
            <div class="col-md-4 trainee-grid wow zoomInLeft animated animated" style="visibility: visible;
                animation-name: zoomInLeft;">
                <a href="single.html">
                    <img src="../../images/logo.png" class="img-responsive" alt=""></a>
                <div class="date">
                    <lable>30</lable>
                    <span>Mar</span>
                </div>
                <a href="single.html">
                    <h4>
                        Lorem ipsum dolor sit amet,</h4>
                    <h5>
                        consectetuer adipiscing.</h5>
                </a>
                <p>
                    Aliquam dapibus tincidunt metus. Praesent justo dolor, lobortis quis, lobortis dignissim,
                    pulvinar ac, lorem. Lorem ipsum dolor sit amet,…</p>
            </div>
            <div class="col-md-4 trainee-grid wow fadeInUpBig animated animated animated" data-wow-delay="0.4s"
                style="visibility: visible; animation-delay: 0.4s; animation-name: fadeInUpBig;">
                <a href="single.html">
                    <img src="images/b2.jpg" class="img-responsive" alt=""></a>
                <div class="date">
                    <lable>30</lable>
                    <span>Aug</span>
                </div>
                <a href="single.html">
                    <h4>
                        Lorem ipsum dolor sit amet,</h4>
                    <h5>
                        consectetuer adipiscing.</h5>
                </a>
                <p>
                    Aliquam dapibus tincidunt metus. Praesent justo dolor, lobortis quis, lobortis dignissim,
                    pulvinar ac, lorem. Lorem ipsum dolor sit amet,…</p>
            </div>
            <div class="col-md-4 trainee-grid wow zoomInRight animated animated" style="visibility: visible;
                animation-name: zoomInRight;">
                <a href="single.html">
                    <img src="images/b3.jpg" class="img-responsive" alt=""></a>
                <div class="date">
                    <lable>15</lable>
                    <span>Nov</span>
                </div>
                <a href="single.html">
                    <h4>
                        Lorem ipsum dolor sit amet,</h4>
                    <h5>
                        consectetuer adipiscing.</h5>
                </a>
                <p>
                    Aliquam dapibus tincidunt metus. Praesent justo dolor, lobortis quis, lobortis dignissim,
                    pulvinar ac, lorem. Lorem ipsum dolor sit amet,…</p>
            </div>
            <div class="clearfix">
            </div>
        </div>*@
    </div>
</div>


@*<div class="nright">
    <div class="tool">
        <div class="rs_u">
            &nbsp;</div>
        <div class="container">
            <h2>
                <span class="border_line">Products Category</span></h2>
            <ul class="b1">
                @Html.Raw(ViewBag.productCategoty)
            </ul>
        </div>
        <div class="rs_d">
            &nbsp;</div>
    </div>
    <div class="line10">
    </div>
    <div class="tool">
        <div class="rs_u">
            &nbsp;</div>
        <div class="container">
            <h2>
                <span class="border_line">Contact Us</span></h2>
            <ul class="b1">
                <strong>Tel:</strong> <br/>
                86-27-88888888<br />
                86-27-88889999<br />
                86-27-99999998<br />
                <strong>Fax:</strong><br/>
                86-27-89898989<br />
                <strong>Email:</strong><br />
                <a href="mailto:qiaofeng5251264@126.com">qiaofeng5251264@126.com</a><br />
            </ul>
        </div>
        <div class="rs_d">
            &nbsp;</div>
    </div>
    <!--<div class="tool">
        <div class="rs_u">
            &nbsp;</div>
        <div class="container">
            <h2>
                <span class="border_line">Hot News</span></h2>
            <ul class="ul_txt">
                @Html.Raw(ViewBag.hot)
            </ul>
        </div>
        <div class="rs_d">
            &nbsp;</div>
    </div>-->
</div>*@
@*<div class="nleft">
    <div class="mode">
        <div class="rm_u">
            &nbsp;</div>
        <div class="container" style="min-height: 600px; max-height: none;">
            <h2 class="title">@Html.Raw(ViewBag.name)</h2>
            <div class="ul_img">
                @if (Model != null)
                {
                    <ul>
                        @foreach (var item in Model) {
                        <li><a href="@Url.Action("ProductsDetail", "Home", new { ID = item.ID, time = item.CreateTime.Value.ToString("yyyy-MM-dd") })" target="_blank">
                            <img src="@Url.Content("/File/" + @item.ImagePath + "")" alt="@item.Title" title="@item.Title" /></a>
                            <span><a href="@Url.Action("ProductsDetail","Home",new{ID=item.ID,time=item.CreateTime.Value.ToString("yyyy-MM-dd")})" target="_blank">@item.Title</a></span>
                        </li>
                        }
                    </ul>
                    <div class="clear">
                    </div>
                    <table style="width: 100%; height: 30px; text-align: left;" cellpadding="0" cellspacing="0">
                        <tr>
                            <td style="width: 55%;">
                                Total @(Model.TotalItemCount) Records, each Page @(Model.PageSize) Records, Current @(Model.CurrentPageIndex)/@(Model.TotalPageCount) Page 
                                <!--共@(Model.TotalItemCount)条,每页@(Model.PageSize)条,当前@(Model.TotalPageCount)/@(Model.CurrentPageIndex)页-->
                            </td>
                            <td style="width: auto;">
                                @Html.Pager(Model, new PagerOptions { PageIndexParameterName = "id", NumericPagerItemWrapperFormatString = "<span class=\"cpb\">{0}</span>" }, null, null, null)
                            </td>
                        </tr>
                    </table>
                }
            </div>
        </div>
        <div class="rm_d">
            &nbsp;</div>
    </div>
    <div class="line10">
    </div>
</div>*@
